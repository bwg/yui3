YUI.add("deferred-extras",function(d,a){var c=[].slice,b=d.Lang.isFunction;d.mix(d.Deferred.prototype,{wait:function(f){var e=new d.Deferred(),h=e.promise(),g;f=Math.max(0,+f||0);this.then(function(){var i=c.call(arguments);g=setTimeout(function(){e.resolve.apply(e,i);},f);});h.cancel=function(){clearTimeout(g);e.reject.apply(e,arguments);};return h;},notify:function(){var h=this._subs.progress||[],j=this.promise(),f=c.call(arguments),g,e;for(g=0,e=h.length;g<e;++g){h[g].apply(j,f);}return this;},onProgress:function(f){var e=this._subs;if(this._status==="in progress"){if(!e.progress){e.progress=[];}e.progress.push(f);}return this.promise();},isResolved:function(){return this._status==="resolved";},isRejected:function(){return this._status==="rejected";},isInProgress:function(){return this._status==="in progress";}},true);d.Promise.addMethod(["wait","onProgress","isResolved","isRejected","isInProgress"]);d.batch=function(){var e=c.call(arguments),g=e.length,f=[];return d.defer(function(h){var i=d.bind("reject",h);function j(k){return function(){var l=c.call(arguments);f[k]=l.length>1?l:l[0];g--;if(!g&&h.getStatus()!=="rejected"){h.resolve.apply(h,f);}};}d.Array.each(e,function(l,k){d.when((b(l)?d.defer(l):l),j(k),i);});});};},"@VERSION@",{"requires":["deferred"]});